<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="estoque.css">
</head>
<body>
    <header>
        <div class="titulo"><h1>Estoque</h1></div>
        
    </header>
    <div class="tudo">
        <div class="botoes">
        <div class="but"><button onclick="adicionarItem()">Adicionar produto </button></div>
        <div class="but"><button onclick="removerItem(0)">Remover produto</button></div>
        <div class="but"><button onclick="exibirEstoque()">Exibir produtos</button></div>
        <div class="but"><button onclick="limparEstoque()">Limpar lista</button></div>
        </div>
        
        <div class="divInput">
            <div class="alerta">
                <div style="margin-right: 20px;"><p>Digite o produto:</p></div>
                <input type="text" id="txtNome" class="alertinput">
            </div>
        <div class="alerta">
            <p>Digite a quantidade:</p>
            <input type="number" name="" id="txtQuantidade" class="alertinput">
        </div>
        <div class="alerta">
            <div style="margin-right: 33px;"><p>Digite o preço:</p></div>
            <input type="number" name="" id="txtPreco" class="alertinput">
        </div>
        <p id="paragrafo"></p>
        <p id="remove"></p>
        </div>
        
    </div>
   
    

    
    <script>

        let estoque =[]//Array para armazenar os itens do estoque


        // while(true){//loop infinito para o programa continuar até que o usuário decida sair.
          
        //     //"\n é utilizado para a quebra de linha"
        //     // o true é utilizado como condição do loop while para criar um loop infinito.
        //     if(opcao === "1" ){
        //     let addItem = prompt('Adicionar um novo item');
        //     estoque.push(addItem);
        //     alert(`O item "${addItem}" foi adicionado ao estoque.`);

        // }
        // else if(opcao === "2" ){
        //     let removeItem = prompt("Remova um item");
        //     let index = estoque.indexOf(removeItem);
        //     if(index!== -1){// verifica se o item existe no estoque (que não esteja negativo).
        //         estoque.splice(index, 1);
        //         alert(`o item "${removeItem}" foi removido do estoque`);
                
        //     }
        //     else{
        //             alert(`O item "${removeItem}" não existe`);
        //         }

        // }
        //   else if(opcao === "3"){ 
        //     alert(`Itens no estoque:\n"${estoque}"`);
        //     }
             

        //  else if(opcao === "4"){
        //     alert("O programa foi encerrado")
        //     break;
        //  }
        //  else {
        //     alert("A opção digitada não existe.")
        //  }

         
            


        // }
        function adicionarItem(){
                let nome2 = document.getElementById("txtNome").value;
                let quantidade2 = parseInt(document.getElementById("txtQuantidade").value);
                let preco2 = document.getElementById("txtPreco").value;

                estoque.push({nome: nome2, quantidade: quantidade2, preco: preco2});//adiciona o item ao array estoque
                alert("Item adicionado ao estoque");//Exibe uma mensagem de sucesso
                limparInput();
            }
        function exibirEstoque(){
         
          let lista = document.getElementById("paragrafo");
          lista.innerHTML = `Sua lista de produtos: <br>`;
          for(let i = 0; i < estoque.length; i++){
            lista.innerHTML = lista.innerHTML + `Prod: ${estoque[i].nome}  Quant: ${estoque[i].quantidade}Preço:${estoque[i].preco}<br>`;
            lista.innerHTML = lista.innerHTML + `<input type ='button' onclick='removeProduto(${i})' /> `;
          }
          
          
        }

        function removerItem(index){
           let remove = estoque.indexOf(0);
           if(index !== -1 ){
            estoque.splice(index, 1);
           }

        }
        //
        function limparEstoque(){
            estoque =[];
            exibirEstoque(); //REEXIBE A LISTA DE PRODUTOS AUTOMATICAMENTE
        }
        function limparInput(){// FUNÇÃO APAGAR AUTOMATICAMENTE O QUE ESTIVER NO INPUT
            document.getElementById("txtNome").value = "";//LIMPAR O DADO DO INPUT NONE
            document.getElementById("txtQuantidade").value = "";//LIMPAR O DADO DO INPUT QUANTIDADE
            document.getElementById("txtPreco").value ="";//LIMPAR O DADO DO INPUT PRECO
        }
       function removeProduto(index){
        //alert(index);
        estoque.splice(index, 1);
        exibirEstoque(); //REEXIBE A LISTA DE PRODUTOS AUTOMATICAMENTE
       }
    </script>
</body>
</html>